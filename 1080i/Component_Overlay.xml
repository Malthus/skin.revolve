<?xml version="1.0" encoding="UTF-8"?>
<includes>
    <constant name="PosYForPlayerInformationForOverlay">1030</constant>

    <variable name="PlayerMediaLabelForOverlay">
        <value condition="Player.HasVideo">$INFO[VideoPlayer.ChannelNumberLabel,,. ]$INFO[VideoPlayer.ChannelName]$INFO[VideoPlayer.TVShowTitle,, | ]$INFO[VideoPlayer.Season,(,$INFO[VideoPlayer.Episode, /])] $INFO[VideoPlayer.Title]</value>
        <value condition="Player.HasAudio">$INFO[MusicPlayer.Artist,, | ]$INFO[MusicPlayer.Album,, | ]$INFO[MusicPlayer.Title]$INFO[MusicPlayer.Year, | ,]</value>
        <value>$INFO[Player.Title]</value>
    </variable>
    <variable name="PlayerTimeLabelForOverlay">
        <value condition="Player.HasDuration"> | $INFO[Player.Time] / $INFO[Player.Duration]</value>
        <value> | $INFO[Player.Time]</value>
    </variable>

    <include name="GlobalOverlay">
        <definition>
            <control type="group">
                <include content="MediaArtworkOverlay" />
                <include content="BackButtonOverlay" />
                <include content="MediaPlayerOverlay" />
                <include content="SkinSettingsOverlay" />
            </control>
        </definition>
    </include>

    <include name="BackButtonOverlay">
        <definition>
            <control type="group">
                <visible>Skin.HasSetting(BackButton.Visible) + !Window.Is(home)</visible>
                <include content="FadeAnimationForOverlay" />
                <posx>0</posx>
                <posy>0</posy>

                <control type="image">
                    <width>88</width>
                    <height>88</height>
                    <texture colordiffuse="$VAR[MainColor]">elements/circle-mask.png</texture>
                    <aspectratio scalediffuse="false">keep</aspectratio>
                </control>

                <control id="9999" type="button">
                    <posx>4</posx>
                    <posy>4</posy>
                    <width>80</width>
                    <height>80</height>
                    <texturefocus colordiffuse="$VAR[HighlightColor]">controls/button-back.png</texturefocus>
                    <texturenofocus colordiffuse="$VAR[BackgroundColor]">controls/button-back.png</texturenofocus>
                    <aspectratio scalediffuse="false">keep</aspectratio>
                    <label>$LOCALIZE[31919]</label>
                    <font></font>
                    <onclick>Close</onclick>
                </control>
            </control>
        </definition>
    </include>

    <include name="MediaPlayerOverlay">
        <definition>
            <control type="group">
                <visible>Player.HasVideo | Player.HasAudio</visible>
                <include content="BackgroundForOverlay" />
                <include content="MediaPlayerLabelForOverlay">
                    <param name="medialabel" value="$VAR[PlayerMediaLabelForOverlay]" />
                    <param name="timelabel" value="$VAR[PlayerTimeLabelForOverlay]" />
                </include>
            </control>
        </definition>
    </include>

    <include name="MediaArtworkOverlay">
        <definition>
            <control type="group">
                <visible>[Player.HasVideo | Player.HasAudio] + Skin.HasSetting(Media.PlayerArtwork.Visible)</visible>

                <control type="group">
                    <visible>Integer.IsGreater(Skin.String(Background.Animation.Level),1)</visible>
                    <include content="OrbitCircle">
                        <param name="posx" value="1781" />
                        <param name="posy" value="941" />
                        <param name="size" value="25" />
                        <param name="radius" value="145" />
                        <param name="time" value="10000" />
                    </include>
                </control>
                
                <control type="group">
                    <visible>Integer.IsGreater(Skin.String(Background.Animation.Level),3)</visible>
                    <include content="OrbitCircle">
                        <param name="posx" value="1781" />
                        <param name="posy" value="941" />
                        <param name="size" value="30" />
                        <param name="radius" value="175" />
                        <param name="time" value="8500" />
                        <param name="direction" value="false" />
                    </include>
                    
                    <include content="OrbitCircle">
                        <param name="posx" value="1781" />
                        <param name="posy" value="941" />
                        <param name="size" value="10" />
                        <param name="radius" value="215" />
                        <param name="time" value="6000" />
                        <param name="direction" value="false" />
                    </include>

                    <include content="OrbitCircle">
                        <param name="posx" value="1781" />
                        <param name="posy" value="941" />
                        <param name="size" value="20" />
                        <param name="radius" value="250" />
                        <param name="time" value="13000" />
                        <param name="direction" value="false" />
                    </include>
                </control>

                <control type="group">
                    <posx>1646</posx>
                    <posy>806</posy>
                    <include content="DefaultCirclePlayerMediaIcon" />

                    <control type="button" id="9990">
                        <description>Invisible Mouse Control For Media Controls Button</description>
                        <posx>20</posx>
                        <posy>20</posy>
                        <width>230</width>
                        <height>230</height>
                        <texturenofocus></texturenofocus>
                        <texturefocus></texturefocus>
                        <font></font>
                        <label></label>
                        <onclick>SetProperty(DialogCloseButton,True,114)</onclick>
                        <onclick>ActivateWindow(playercontrols)</onclick>
                    </control>
                </control>
            </control>
        </definition>
    </include>

    <include name="SkinSettingsOverlay">
        <definition>
            <include content="OverlayDialogForSkinSettings" />
        </definition>
    </include>

    <include name="BackgroundForOverlay">
        <definition>
            <control type="image">
                <visible>Skin.HasSetting(Media.OverlayBackground.Visible)</visible>
                <posx>0</posx>
                <posy>1020</posy>
                <width>1920</width>
                <height>60</height>
                <texture colordiffuse="$VAR[BackgroundColor]">white.png</texture>
            </control>
        </definition>
    </include>

    <include name="MediaPlayerLabelForOverlay">
        <param name="medialabel" default="" />
        <param name="timelabel" default="" />

        <definition>
            <control type="group">
                <visible>!Skin.HasSetting(Media.PlayerArtwork.Visible)</visible>

                <include content="LabelForOverlay">
                    <param name="posx" value="1520" />
                    <param name="width" value="1500" />
                    <param name="label" value="$PARAM[medialabel]" />
                </include>
                <include content="LabelForOverlay">
                    <param name="posx" value="1530" />
                    <param name="width" value="400" />
                    <param name="align" value="left" />
                    <param name="label" value="$PARAM[timelabel]" />
                </include>
            </control>

            <control type="group">
                <visible>Skin.HasSetting(Media.PlayerArtwork.Visible)</visible>
                
                <include content="LabelForOverlay">
                    <param name="posx" value="1320" />
                    <param name="width" value="1300" />
                    <param name="label" value="$PARAM[medialabel]" />
                </include>
                <include content="LabelForOverlay">
                    <param name="posx" value="1330" />
                    <param name="width" value="400" />
                    <param name="align" value="left" />
                    <param name="label" value="$PARAM[timelabel]" />
                </include>
            </control>
        </definition>
    </include>

    <include name="LabelForOverlay">
        <param name="outline" default="!Skin.HasSetting(Media.OverlayBackground.Visible)" />
        <param name="left" default="1320" />
        <param name="top" default="PosYForPlayerInformationForOverlay" />
        <param name="width" default="1300" />
        <param name="height" default="30" />
        <param name="align" default="right" />
        <param name="label" default="-" />

        <definition>
            <control type="group">
                <visible>!$PARAM[outline]</visible>
                <control type="label">
                    <left>$PARAM[left]</left>
                    <top>$PARAM[top]</top>
                    <width>$PARAM[width]</width>
                    <height>$PARAM[height]</height>
                    <font>MessageTextFont</font>
                    <textcolor>$VAR[SecondaryColor]</textcolor>
                    <align>$PARAM[align]</align>
                    <scroll>true</scroll>
                    <label>$PARAM[label]</label>
                </control>
            </control>
            
            <control type="group">
                <visible>$PARAM[outline]</visible>
                <include content="OutlineLabel">
                    <param name="posx" value="$PARAM[left]" />
                    <param name="posy" value="$PARAM[top]" />
                    <param name="width" value="$PARAM[width]" />
                    <param name="height" value="$PARAM[height]" />
                    <param name="font" value="MessageTextFont" />
                    <param name="textcolor" value="$VAR[TextColor]" />
                    <param name="outlinecolor" value="$VAR[BackgroundColor]" />
                    <param name="outlinesize" value="2" />
                    <param name="align" value="$PARAM[align]" />
                    <param name="scroll" value="true" />
                    <param name="label" value="$PARAM[label]" />
                </include>
            </control>
        </definition>
    </include>

    <include name="FadeAnimationForOverlay">
        <definition>
            <animation effect="fade" start="0" end="100" time="WindowFadeDuration">WindowOpen</animation>
            <animation effect="fade" start="0" end="100" time="WindowFadeDuration">Visible</animation>
            <animation effect="fade" start="100" end="0" time="WindowFadeDuration">Hidden</animation>
            <animation effect="fade" start="100" end="0" time="WindowFadeDuration">WindowClose</animation>
        </definition>
    </include>
</includes>
